{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/Auth.js","components/ProtectedRoute.js","components/Register.js","components/Login.js","images/RegisterOk.svg","images/RegisterError.svg","components/InfoToolTip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","children","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","userId","isLiked","likes","some","id","src","link","alt","name","onClick","onCardClick","type","style","visibility","onCardDelete","onCardLike","length","Main","cards","userAvatar","onEditAvatar","userName","onEditProfile","userDescription","isAddPlacePopupOpen","map","_id","Footer","ImagePopup","isOpen","closeAllPopups","PopupWithForm","onSubmit","title","buttonName","api","config","this","_baseUrl","baseUrl","_headers","headers","fetch","method","then","_checkStatusOK","userData","body","JSON","stringify","about","cardId","avatarLink","avatar","res","ok","json","Promise","reject","status","Authorization","localStorage","getItem","EditProfilePopup","useState","setName","description","setDescription","useEffect","onClose","e","preventDefault","onUpdateUser","minLength","maxLength","required","placeholder","value","onChange","target","EditAvatarPopup","avatarLinkRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","namePlaceRef","linkPlaceRef","onAddPlace","BASE_URL","resStatus","ProtectedRoute","Component","component","rest","render","loggedIn","to","Register","onReg","emailInput","setEmailInput","passwordInput","setpasswordInput","history","useHistory","push","setResStatus","catch","err","console","log","finally","onInfoTool","Login","onLog","setPasswordInput","resetInputs","InfoToolTip","registerOk","registerError","textAlign","fontSize","paddingBottom","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","selectCard","setLoggedIn","email","setEmail","isInfoToolTipOpen","setIsInfoToolTipOpen","userInfo","setUserInfo","setCards","auth","jwt","token","onSignOut","removeItem","all","getUserInfo","getInitialCards","initialCards","closeByEscape","key","document","addEventListener","removeEventListener","location","useLocation","Provider","pathname","paddingRight","headerLogStatus","path","select","likeCard","newCard","c","deleteCard","filter","password","Auth","statusCode","Error","setItem","updateUserInfo","data","setAvatar","placeData","createNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"8NAYeA,MATf,SAAgBC,GACZ,OACI,yBAAQC,UAAU,SAAlB,UACI,qBAAKA,UAAU,iBACdD,EAAME,aCHNC,EAAqBC,IAAMC,gBC+BzBC,MA/Bf,SAAcN,GAKV,IAAMO,EAAcH,IAAMI,WAAWL,GAC/BM,EAAQT,EAAMU,KAAKC,QAAUJ,EAAYK,OACzCC,EAAUb,EAAMU,KAAKI,MAAMC,MAAK,SAACC,GAAD,OAAQA,IAAOT,EAAYK,UAIjE,OACI,qBAAIX,UAAU,UAAd,UACI,qBAAKA,UAAU,iBAAiBgB,IAAKjB,EAAMU,KAAKQ,KAAMC,IAAKnB,EAAMU,KAAKU,KAAMC,QAZpF,WACIrB,EAAMsB,YAAYtB,EAAMU,SAYpB,wBAAQT,UAAU,yBAAyBsB,KAAK,SAASC,MAAOf,EAAQ,CAAEgB,WAAY,WAAc,CAAEA,WAAY,UAC9GJ,QAAS,kBAAMrB,EAAM0B,aAAa1B,EAAMU,SAC5C,sBAAKT,UAAU,mBAAf,UACI,mBAAGA,UAAU,iBAAb,SAA+BD,EAAMU,KAAKU,OAC1C,sBAAKnB,UAAU,qBAAf,UACI,wBAAQA,UAAWY,EAAU,uCAAyC,yCACtEU,KAAK,SAASF,QAAS,WACnBrB,EAAM2B,WAAW3B,EAAMU,SAG3B,mBAAGT,UAAU,mBAAb,SAAiCD,EAAMU,KAAKI,MAAMc,mBCYvDC,MAhCf,SAAc7B,GACV,IAAMO,EAAcC,qBAAWL,GACzB2B,EAAQ9B,EAAM8B,MAEpB,OACI,iCACI,0BAAS7B,UAAU,UAAnB,UACI,sBAAKA,UAAU,4BAAf,UACI,qBAAKgB,IAAKV,EAAYwB,WAAY9B,UAAU,kBAAkBkB,IAAI,gHAAsBE,QAASrB,EAAMgC,eACvG,wBAAQ/B,UAAU,uBAAuBsB,KAAK,SAASF,QAASrB,EAAMgC,kBAE1E,sBAAK/B,UAAU,gBAAf,UACI,oBAAIA,UAAU,iBAAd,SAAgCM,EAAY0B,WAC5C,wBAAQhC,UAAU,uBAAuBsB,KAAK,SAASF,QAASrB,EAAMkC,gBACtE,mBAAGjC,UAAU,oBAAb,SAAkCM,EAAY4B,qBAElD,wBAAQlC,UAAU,sBAAsBsB,KAAK,SAASF,QAASrB,EAAMoC,yBAGzE,yBAASnC,UAAU,WAAnB,SACI,oBAAIA,UAAU,iBAAd,SACK6B,EAAMO,KAAI,SAAC3B,GAER,OACI,cAAC,EAAD,CAAMA,KAAMA,EAAqBY,YAAatB,EAAMsB,YAAaK,WAAY3B,EAAM2B,WAAYD,aAAc1B,EAAM0B,cAA5FhB,EAAK4B,gBCtBzCC,MARf,WACI,OACA,wBAAQtC,UAAU,SAAlB,SAEI,mBAAGA,UAAU,oBAAb,kCCSOuC,MAbf,SAAoBxC,GAChB,OACI,qBAAKC,UAAWD,EAAMyC,OAAN,wCAAgDzC,EAAMoB,MAAtD,2BAAmFpB,EAAMoB,MAAzG,SACI,sBAAKnB,UAAU,mCAAf,UAEI,wBAAQA,UAAU,qDAAqDsB,KAAK,SAASF,QAASrB,EAAM0C,iBACpG,qBAAKzC,UAAU,eAAegB,IAAKjB,EAAMU,KAAKQ,KAAMC,IAAKnB,EAAMU,KAAKU,OACpE,mBAAGnB,UAAU,uCAAb,SAAqDD,EAAMU,KAAKU,aCMjEuB,MAbf,SAAuB3C,GACnB,OACI,qBAAKC,UAAWD,EAAMyC,OAAN,2BAAmCzC,EAAMoB,KAAzC,6CAAoFpB,EAAMoB,MAA1G,SACI,uBAAMnB,UAAU,6BAA6BmB,KAAMpB,EAAMoB,KAAOwB,SAAU5C,EAAM4C,SAAhF,UACI,oBAAI3C,UAAU,eAAd,SAA8BD,EAAM6C,QACnC7C,EAAME,SACP,wBAAQD,UAAU,qBAAqBsB,KAAK,SAA5C,SAAsDvB,EAAM8C,aAC5D,wBAAQ7C,UAAU,sBAAsBsB,KAAK,SAASF,QAASrB,EAAM0C,uB,gBCyEtEK,EARH,I,WAvEV,WAAYC,GAAS,oBACnBC,KAAKC,SAAWF,EAAOG,QACvBF,KAAKG,SAAWJ,EAAOK,Q,mDAGzB,WACE,OAAOC,MAAM,GAAD,OAAIL,KAAKC,SAAT,UAA2B,CACrCK,OAAQ,MACRF,QAASJ,KAAKG,WACbI,KAAKP,KAAKQ,kB,yBAGf,WACE,OAAOH,MAAM,GAAD,OAAIL,KAAKC,SAAT,aAA8B,CACxCK,OAAQ,MACRF,QAASJ,KAAKG,WACbI,KAAKP,KAAKQ,kB,4BAEf,SAAeC,GACb,OAAOJ,MAAM,GAAD,OAAIL,KAAKC,SAAT,aAA8B,CACxCK,OAAQ,QACRF,QAASJ,KAAKG,SAEdO,KAAMC,KAAKC,UAAU,CACnBzC,KAAMsC,EAAStC,KACf0C,MAAOJ,EAASI,UAEjBN,KAAKP,KAAKQ,kB,wBAEf,SAAWM,GACT,OAAOT,MAAM,GAAD,OAAIL,KAAKC,SAAT,kBAA2Ba,GAAU,CAC/CR,OAAQ,SACRF,QAASJ,KAAKG,WACbI,KAAKP,KAAKQ,kB,uBAGf,SAAUO,GACR,OAAOV,MAAM,GAAD,OAAIL,KAAKC,SAAT,oBAAqC,CAC/CK,OAAQ,QACRF,QAASJ,KAAKG,SACdO,KAAMC,KAAKC,UAAU,CACnBI,OAAQD,MAETR,KAAKP,KAAKQ,kB,sBAGf,SAASM,EAAQlD,GACf,OAAOyC,MAAM,GAAD,OAAIL,KAAKC,SAAT,kBAA2Ba,EAA3B,UAA2C,CACrDR,OAAQ1C,EAAU,SAAW,MAC7BwC,QAASJ,KAAKG,WACbI,KAAKP,KAAKQ,kB,2BAEf,YAA+B,IAAfrC,EAAc,EAAdA,KAAMF,EAAQ,EAARA,KACpB,OAAOoC,MAAM,GAAD,OAAIL,KAAKC,SAAT,UAA2B,CACrCK,OAAQ,OACRF,QAASJ,KAAKG,SACdO,KAAMC,KAAKC,UAAU,CACnBzC,KAAMA,EACNF,KAAMA,MAEPsC,KAAKP,KAAKQ,kB,4BAGf,SAAeS,GACb,OAAIA,EAAIC,GACCD,EAAIE,OAENC,QAAQC,OAAR,+CAAyBJ,EAAIK,a,KAI5B,CAAQ,CAClBpB,QAAQ,GAAD,OA3EQ,oCA4EfE,QAAS,CACP,eAAgB,mBAChBmB,cAAc,UAAD,OAAYC,aAAaC,QAAQ,WChCnCC,MA1Cf,SAA0B3E,GACtB,IAAMO,EAAcH,IAAMI,WAAWL,GACrC,EAAwBC,IAAMwE,SAASrE,EAAY0B,UAAnD,mBAAOb,EAAP,KAAayD,EAAb,KACA,EAAsCzE,IAAMwE,SAASrE,EAAY4B,iBAAjE,mBAAO2C,EAAP,KAAoBC,EAApB,KAyBA,OAnBA3E,IAAM4E,WAAU,WACZH,EAAQtE,EAAY0B,UACpB8C,EAAexE,EAAY4B,mBAC5B,CAAC5B,EAAaP,EAAMyC,SAiBnB,eAAC,EAAD,CAAerB,KAAK,YAAYyB,MAAM,4HAAwBC,WAAW,yDAAYL,OAAQzC,EAAMyC,OAAQC,eAAgB1C,EAAMiF,QAASrC,SAT9I,SAAsBsC,GAClBA,EAAEC,iBACDnF,EAAMoF,aAAa,CACfhE,KAAMA,EACN0C,MAAOgB,KAKZ,UACI,uBAAO9D,GAAG,aAAaf,UAAU,oCACjCsB,KAAK,OAAOH,KAAK,OAAOiE,UAAU,IAAIC,UAAU,KAAKC,UAAQ,EAACC,YAAY,qBACtEC,MAAOrE,GAAQ,GAAIsE,SAlB/B,SAA0BR,GACrBL,EAAQK,EAAES,OAAOF,UAkBd,sBAAMxF,UAAU,gCAAgCe,GAAG,qBACnD,uBAAOA,GAAG,mBAAmBf,UAAU,0CACvCsB,KAAK,OAAOH,KAAK,aAAaiE,UAAU,IAAIC,UAAU,MAAMC,UAAQ,EAACC,YAAY,yDAC7EC,MAAOX,GAAe,GAAIY,SAnBtC,SAAiCR,GAC5BH,EAAeG,EAAES,OAAOF,UAmBrB,sBAAMxF,UAAU,sCAAsCe,GAAG,+BChBtD4E,MArBf,SAAyB5F,GACrB,IAAM6F,EAAgBC,mBAUtB,OACI,eAAC,EAAD,CAAe1E,KAAK,gBAAgByB,MAAM,wFAAkBC,WAAW,yDAAYL,OAAQzC,EAAMyC,OAAQC,eAAgB1C,EAAMiF,QAASrC,SAT5I,SAAsBsC,GAClBA,EAAEC,iBAEFnF,EAAM+F,eAAe,CACjB9B,OAAQ4B,EAAcG,QAAQP,SAKlC,UACI,uBAAOzE,GAAG,eAAeO,KAAK,MAAMH,KAAK,OAAOoE,YAAY,qGAAqBvF,UAAU,sCAAsCsF,UAAQ,EAACU,IAAKJ,IAC/I,sBAAM5F,UAAU,4DCUbiG,MAxBf,SAAuBlG,GACnB,IAAMmG,EAAeL,mBACfM,EAAeN,mBAYrB,OACI,eAAC,EAAD,CAAe1E,KAAK,aAAayB,MAAM,gEAAcC,WAAW,yDAAYL,OAAQzC,EAAMyC,OAAQC,eAAgB1C,EAAMiF,QAASrC,SAXrI,SAAsBsC,GAClBA,EAAEC,iBACFnF,EAAMqG,WAAW,CACbnF,KAAMkF,EAAaJ,QAAQP,MAC3BrE,KAAM+E,EAAaH,QAAQP,QAE/BU,EAAaH,QAAQP,MAAQ,GAC7BW,EAAaJ,QAAQP,MAAQ,IAI7B,UACI,uBAAOzE,GAAG,cAAcf,UAAU,qCAAqCuF,YAAY,mDAAWjE,KAAK,OAAOH,KAAK,OAAOiE,UAAU,IAAIC,UAAU,KAAKC,UAAQ,EAACU,IAAKE,IACjK,sBAAMnF,GAAG,oBAAoBf,UAAU,mCACvC,uBAAOe,GAAG,YAAYO,KAAK,MAAMH,KAAK,OAAOoE,YAAY,qGAAqBvF,UAAU,sCAAsCsF,UAAQ,EAACU,IAAKG,IAC5I,sBAAMnG,UAAU,qCCvBtBqG,EAAW,mCAEXC,EAAY,SAACrC,GACjB,OAAKA,EAAIC,GAGFD,EAAIE,OAFFC,QAAQC,OAAR,iBAAyBJ,EAAIK,U,gCCczBiC,EAfQ,SAAC,GAAuC,IAA1BC,EAAyB,EAApCC,UAAyBC,EAAW,iBAC1D,OACI,cAAC,IAAD,2BACQA,GADR,IAEIC,OAAQ,SAAC5G,GAAD,OACc,IAAlB2G,EAAKE,SACD,cAACJ,EAAD,2BAAezG,GAAW2G,IAE1B,cAAC,IAAD,CAAUG,GAAG,mB,YC6ClBC,EApDE,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAUhH,EAAY,iBACtC,EAAoCI,IAAMwE,SAAS,IAAnD,mBAAOqC,EAAP,KAAmBC,EAAnB,KACA,EAA0C9G,IAAMwE,SAAS,IAAzD,mBAAOuC,EAAP,KAAsBC,EAAtB,KACMC,EAAUC,cAgChB,OANAtC,qBAAU,WACFP,aAAaC,QAAQ,QACrB2C,EAAQE,KAAK,WAElB,CAACF,IAGA,uBAAMpH,UAAU,OAAO2C,SAxB3B,SAAsBsC,GAElBA,EAAEC,iBACF6B,EAAM,CAAEG,gBAAeF,eAClBzD,MAAK,WACF6D,EAAQE,KAAK,YACbvH,EAAMwH,cAAa,MAEtBC,OAAM,SAACC,GACJ1H,EAAMwH,cAAa,GACnBG,QAAQC,IAAIF,MAEfG,SAAQ,WACL7H,EAAM8H,YAAW,OAWzB,UACI,oBAAI7H,UAAU,cAAd,gFACA,uBAAOA,UAAU,cAAcsB,KAAK,QAChCiE,YAAY,QACZH,UAAU,IAAIC,UAAU,KACxBC,UAAQ,EAACE,MAAOwB,EAAYvB,SApCxC,SAAgCR,GAC5BgC,EAAchC,EAAES,OAAOF,UAoCnB,uBAAOxF,UAAU,cAAcsB,KAAK,OAChCiE,YAAY,uCACZH,UAAU,IAAIC,UAAU,KACxBC,UAAQ,EAACE,MAAO0B,EAAezB,SArC3C,SAAmCR,GAC/BkC,EAAiBlC,EAAES,OAAOF,UAqCtB,wBAAQxF,UAAU,uBAAuBsB,KAAK,SAA9C,0HACCvB,EAAME,a,YCMJ6H,EAtDD,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAUhI,EAAY,iBACnC,EAAoCI,IAAMwE,SAAS,IAAnD,mBAAOqC,EAAP,KAAmBC,EAAnB,KACA,EAA0C9G,IAAMwE,SAAS,IAAzD,mBAAOuC,EAAP,KAAsBc,EAAtB,KACMZ,EAAUC,cAEhBtC,qBAAU,WACN,OAAO,WACCP,aAAaC,QAAQ,QACrB2C,EAAQE,KAAK,YAGtB,CAACF,IAQJ,IAAMa,EAAc,WAChBhB,EAAc,IACde,EAAiB,KAelB,OACY,uBAAMhI,UAAU,OAAO2C,SAdtC,SAAsBsC,GAClBA,EAAEC,iBAEF6C,EAAM,CAAEb,gBAAeF,eAClBzD,KAAK0E,GACL1E,MAAK,WACF6D,EAAQE,KAAK,YAEhBE,OAAM,SAACC,GACJC,QAAQC,IAAIF,OAKT,UACH,oBAAIzH,UAAU,cAAd,sCACA,uBAAOA,UAAU,cAAcsB,KAAK,QAChCiE,YAAY,QACZD,UAAQ,EAACE,MAAOwB,EAAYvB,SA5BzC,SAAgCR,GAC/BgC,EAAchC,EAAES,OAAOF,QA4BXJ,UAAU,IAAIC,UAAU,OAE5B,uBAAOrF,UAAU,cAAcsB,KAAK,OAChCiE,YAAY,uCACZH,UAAU,IAAIC,UAAU,KACxBC,UAAQ,EAACE,MAAO0B,EAAezB,SA/B/C,SAAmCR,GAC/B+C,EAAiB/C,EAAES,OAAOF,UA+BlB,wBAAQxF,UAAU,uBAAuBsB,KAAK,SAA9C,4CACCvB,EAAME,aCpDR,MAA0B,uCCA1B,MAA0B,0CCsB1BiI,MAlBf,SAAqBnI,GAEjB,OACI,qBAAMC,UAAWD,EAAMyC,OAAN,mEAAjB,SACI,sBAAKxC,UAAU,mBAAmBmB,KAAMpB,EAAMoB,KAA9C,UACI,qBACInB,UAAU,cACVgB,IAAKjB,EAAMuG,UAAY6B,EAAaC,EACpClH,IAAI,aAER,oBAAIlB,UAAU,eAAeuB,MAAO,CAAE8G,UAAW,SAAUC,SAAU,OAAQC,cAAe,KAA5F,SACKxI,EAAMuG,UAAY,wKAAmC,wMAC1D,wBAAQtG,UAAU,sBAAsBsB,KAAK,QAAQF,QAASrB,EAAM0C,uBCoRrE+F,MA3Qf,SAAazI,GAET,MAA4DI,IAAMwE,UAAS,GAA3E,mBAAO8D,EAAP,KAA+BC,EAA/B,KACA,EAAsDvI,IAAMwE,UAAS,GAArE,mBAAOxC,EAAP,KAA4BwG,EAA5B,KACA,EAA0DxI,IAAMwE,UAAS,GAAzE,mBAAOiE,EAAP,KAA8BC,EAA9B,KACA,EAAgD1I,IAAMwE,UAAS,GAA/D,mBAAOmE,EAAP,KAAyBC,EAAzB,KACA,EAAmC5I,IAAMwE,SAAS,IAAlD,mBAAOqE,EAAP,KAAqBC,EAArB,KACA,EAAgC9I,IAAMwE,UAAS,GAA/C,mBAAOiC,EAAP,KAAiBsC,EAAjB,KACM9B,EAAUC,cAChB,EAA0B1C,mBAAS,IAAnC,mBAAOwE,EAAP,KAAcC,EAAd,KACA,EAAkDjJ,IAAMwE,UAAS,GAAjE,oBAAO0E,GAAP,MAA0BC,GAA1B,MAEA,GAAgCnJ,IAAMwE,SAAS,IAA/C,qBAAO4E,GAAP,MAAiBC,GAAjB,MACA,GAA0BrJ,IAAMwE,SAAS,IAAzC,qBAAO9C,GAAP,MAAc4H,GAAd,MACA,GAAkCtJ,IAAMwE,UAAS,GAAjD,qBAAO2B,GAAP,MAAkBiB,GAAlB,MAEMmC,GAAO,SAACC,GACV,OPZmBC,EOYID,EPXtBtG,MAAM,GAAD,OAAIgD,EAAJ,aAAyB,CACnC/C,OAAQ,MACRF,QAAS,CACP,eAAgB,mBAChBmB,cAAc,UAAD,OAAYqF,MAE1BrG,KAAK+C,IOK0B/C,MAAK,SAACU,GAC1BA,IACAiF,GAAY,GAEZE,EAASnF,EAAIkF,WAGhB3B,OAAM,SAACC,GACJC,QAAQC,IAAIF,MPpBF,IAACmC,GOwBvB7E,qBAAU,WACN,IAAM4E,EAAMnF,aAAaC,QAAQ,OAE7BkF,GACAD,GAAKC,KAEV,CAAC/C,IAEJ7B,qBAAU,WACF6B,GAAUQ,EAAQE,KAAK,WAC5B,CAACV,EAAUQ,IAEd,IAuBMyC,GAAY,WACdrF,aAAasF,WAAW,OACxBZ,GAAY,GACZ9B,EAAQE,KAAK,aAkBjB,SAAS7E,KACLoG,GAAyB,GACzBF,GAAuB,GACvBD,GAA0B,GAC1BK,GAAoB,GACpBO,IAAqB,GAKzBnJ,IAAM4E,WAAU,WAEZX,QAAQ2F,IAAI,CAACjH,EAAIkH,cAAelH,EAAImH,oBAC/B1G,MAAK,YAA+B,IAAD,mBAA5BE,EAA4B,KAAlByG,EAAkB,KAChCxC,QAAQC,IAAIlE,EAAStC,KAAMsC,EAASO,QACpCwF,GAAY,CACRxH,SAAUyB,EAAStC,KACnBe,gBAAiBuB,EAASI,MAC1B/B,WAAY2B,EAASO,OACrBrD,OAAQ8C,EAASpB,MAErBoH,GAASS,MAGZ1C,OAAM,SAACC,GACJC,QAAQC,IAAIF,QAErB,CAACL,IAEJjH,IAAM4E,WAAU,WACZ,IAAMoF,EAAgB,SAAClF,GACL,WAAVA,EAAEmF,KACF3H,MAMR,OAFA4H,SAASC,iBAAiB,UAAWH,GAE9B,kBAAME,SAASE,oBAAoB,UAAWJ,MACtD,IAwEH,IAAMK,GAAWC,cA4BjB,OACI,qBAAKzK,UAAU,OAAf,SACI,eAACE,EAAmBwK,SAApB,CAA6BlF,MAAO+D,GAApC,UACQ,cAAC,EAAD,UA7BhB,WACI,OAAQiB,GAASG,UACb,IAAK,QACD,OACI,sBAAK3K,UAAU,eAAf,UACI,mBAAGA,UAAU,gBAAgBuB,MAAO,CAAEqJ,aAAc,QAApD,SAA+DzB,IAC/D,cAAC,IAAD,CAAMnJ,UAAU,cAAc6G,GAAG,WAAWzF,QAASyI,GAArD,+CAIZ,IAAK,WACD,OACI,qBAAK7J,UAAU,eAAf,SAA8B,cAAC,IAAD,CAAMA,UAAU,cAAc6G,GAAG,WAAjC,kFAGtC,IAAK,WACD,OACI,qBAAK7G,UAAU,eAAf,SAA8B,cAAC,IAAD,CAAMA,UAAU,cAAc6G,GAAG,WAAjC,+CAazBgE,KAEL,eAAC,IAAD,WACI,cAAC,EAAD,CACAC,KAAK,QACDlE,SAAUA,EACdH,UAAW7E,EAAMC,MAAOA,GAAOI,cAnKnD,WACIyG,GAA0B,IAkK4DvG,oBAhK1F,WACIwG,GAAuB,IA+JyG5G,aA7JpI,WACI8G,GAAyB,IA6JLxH,YA3JxB,SAAyB0J,GACrB9B,EAAW8B,GACXhC,GAAoB,IAyJ8BtI,KAAMuI,EAActH,WA3G1E,SAAwBjB,GAEpB,IAAMG,EAAUH,EAAKI,MAAMC,MAAK,SAACC,GAAD,OAAQA,IAAOwI,GAAS5I,UAExDmC,EAAIkI,SAASvK,EAAK4B,IAAKzB,GACtB2C,MAAK,SAAC0H,GACHxB,IAAS,SAAC5H,GAAD,OAAWA,EAAMO,KAAI,SAAC8I,GAAD,OAAQA,EAAE7I,MAAQ5B,EAAK4B,IAAM4I,EAAUC,WAExE1D,OAAM,SAACC,GACAC,QAAQC,IAAIF,OAkG8EhG,aA7FtG,SAA0BhB,GACtBqC,EAAIqI,WAAW1K,EAAK4B,KACnBkB,MAAK,WACFkG,IAAS,SAAC5H,GAAD,OAAWA,EAAMuJ,QAAO,SAACF,GAAD,OAAOA,EAAE7I,MAAQ5B,EAAK4B,aAE1DmF,OAAM,SAACC,GACAC,QAAQC,IAAIF,OAuF8GoC,UAAWA,KAC7H,cAAC,IAAD,CAAOiB,KAAK,WAAZ,SACI,cAAC,EAAD,CAAU/D,MApMpB,SAAC,GACX,OP1DgB,SAACsE,EAAUlC,GACjC,OAAO9F,MAAM,GAAD,OAAIgD,EAAJ,WAAuB,CACjC/C,OAAQ,OACRF,QAAS,CACP,eAAgB,oBAElBM,KAAMC,KAAKC,UAAU,CAAEyH,WAAUlC,YAChC5F,KAAK+C,GOmDKgF,CADsC,EAAhCpE,cAAgC,EAAjBF,YACoBzD,MAAK,SAACU,GAClD,GAAKA,GAA0B,MAAnBA,EAAIsH,WAGZ,OAAOtH,EAFP,MAAM,IAAIuH,MAAM,sGAiMoB3D,WAAYyB,GAAsB/B,aAAcA,GAAxE,SACI,oBAAGvH,UAAU,aAAb,iIAA+C,cAAC,IAAD,CAAMA,UAAU,wBAAwB6G,GAAG,WAA3C,qDAGvD,cAAC,IAAD,CAAOiE,KAAK,WAAZ,SACI,cAAC,EAAD,CAAOlE,SAAUA,EAAUsC,YAAaA,EAAanB,MAhM/D,SAAC,GACX,OPzDiB,SAACsD,EAAUlC,GAClC,OAAO9F,MAAM,GAAD,OAAIgD,EAAJ,WAAuB,CACjC/C,OAAQ,OACRF,QAAS,CACP,eAAgB,mBAChBmB,cAAc,UAAD,OAAYC,aAAaC,QAAQ,SAEhDf,KAAMC,KAAKC,UAAU,CAAEyH,WAAUlC,YAChC5F,KAAK+C,GOiDKgF,CADsC,EAAhCpE,cAAgC,EAAjBF,YACqBzD,MAAK,SAACU,GACnD,IAAKA,IAAQA,EAAI2F,MACb,MAAM,IAAI4B,MAAM,gOAChBvH,EAAI2F,QACJV,GAAY,GACZ1E,aAAaiH,QAAQ,MAAOxH,EAAI2F,WAGnCpC,OAAM,SAACC,GACJC,QAAQC,IAAIF,WAwLJ,cAAC,IAAD,UACKb,EAAY,cAAC,IAAD,CAAUC,GAAG,UAAe,cAAC,IAAD,CAAUA,GAAG,kBAIlE,cAAC,EAAD,CAAYpG,KAAMuI,EAAcxG,OAAQsG,EAAkBrG,eAAgBA,KAE1E,cAAC,EAAD,CAAkBD,OAAQiG,EAAwBzD,QAASvC,GAAgB0C,aAlGvF,SAA0B1B,GACtBX,EAAI4I,eAAejI,GACdF,MAAK,SAACE,GACH+F,GAAY,CACRxH,SAAUyB,EAASkI,KAAKxK,KACxBe,gBAAiBuB,EAASkI,KAAK9H,MAC/B/B,WAAY2B,EAASkI,KAAK3H,OAC1BrD,OAAQ8C,EAASkI,KAAKtJ,MAE1BI,QAEH+E,OAAM,SAACC,GACJC,QAAQC,IAAIF,SAwFZ,cAAC,EAAD,CAAiBjF,OAAQoG,EAAuB5D,QAASvC,GAAgBqD,eApFrF,SAA4BrC,GACjBX,EAAI8I,UAAUnI,EAASO,QACzBT,MAAK,SAACE,GACH+F,GAAY,CACRxH,SAAUyB,EAASkI,KAAKxK,KACxBe,gBAAiBuB,EAASkI,KAAK9H,MAC/B/B,WAAY2B,EAASkI,KAAK3H,OAC1BrD,OAAQ8C,EAASkI,KAAKtJ,MAE1BI,QAEH+E,OAAM,SAACC,GACJC,QAAQC,IAAIF,SA0EZ,cAAC,EAAD,CAAejF,OAAQL,EAAqB6C,QAASvC,GAAgB2D,WAtEjF,SAAwByF,GACpB/I,EAAIgJ,cAAcD,GACbtI,MAAK,SAAC0H,GACHxB,GAAS,CAACwB,GAAF,mBAAcpJ,MACtBY,QAEH+E,OAAM,SAACC,GACJC,QAAQC,IAAIF,SAiEZ,cAAC,EAAD,CAAetG,KAAK,WAAWyB,MAAM,2DAAcC,WAAW,eAAKL,QAAQ,IAE3E,cAAC,EAAD,CAAaA,OAAQ6G,GAAmB5G,eAAgBA,GAAgB6D,UAAWA,KAE/E,cAAC,EAAD,UClRLyF,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB1I,MAAK,YAAkD,IAA/C2I,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAAS5F,OACL,cAAC,IAAM6F,WAAP,UACI,cAAC,IAAD,UACI,cAAC,EAAD,QAEcnC,SAASoC,eAAe,SAMlDV,M","file":"static/js/main.7c3a8f0f.chunk.js","sourcesContent":["import React from 'react';\n\n\nfunction Header(props) {\n    return (\n        <header className=\"header\">\n            <div className=\"header__logo\"></div>\n            {props.children}\n        </header>\n    );\n}\n\nexport default Header;","import React from 'react';\n\n\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n// import { RiHeartFill } from \"react-icons/ri\";\n\nfunction Card(props) {\n    function handleClick() {\n        props.onCardClick(props.card);\n    }\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = props.card.owner === currentUser.userId;\n    const isLiked = props.card.likes.some((id) => id === currentUser.userId);\n    // console.log(currentUser.userId);\n    // console.log(props.card.owner);\n   \n    return ((\n        <li className=\"element\">\n            <img className=\"element__image\" src={props.card.link} alt={props.card.name} onClick={handleClick} />\n            <button className=\"element__remove-button\" type=\"button\" style={isOwn ? { visibility: 'visible' } : { visibility: 'hidden' }}\n                onClick={() => props.onCardDelete(props.card)}></button>\n            <div className=\"element__heading\">\n                <p className=\"element__title\">{props.card.name}</p>\n                <div className=\"element__container\">\n                    <button className={isLiked ? \"element__heart element__heart_active\" : \"element__heart element__heart_disabled\"} \n                    type=\"button\" onClick={() => {\n                        props.onCardLike(props.card)\n                    }}></button>\n                    {/* <Heart /> */}\n                    <p className='element__counter'>{props.card.likes.length}</p>\n                </div>\n            </div>\n        </li>\n    ));\n};\n\nexport default Card;\n\n\n\n","import React from 'react';\nimport Card from './Card'\n\nimport { useContext } from \"react\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\n\nfunction Main(props) {\n    const currentUser = useContext(CurrentUserContext);\n    const cards = props.cards\n    // console.log(currentUser.userDescription);\n    return (\n        <main>\n            <section className=\"profile\">\n                <div className=\"profile__avatar-container\">\n                    <img src={currentUser.userAvatar} className=\"profile__avatar\" alt=\"Аватар пользователя\" onClick={props.onEditAvatar}/>\n                    <button className=\"profile__edit-avatar\" type=\"button\" onClick={props.onEditAvatar}></button>\n                </div>\n                <div className=\"profile__info\">\n                    <h1 className=\"profile__title\">{currentUser.userName}</h1>\n                    <button className=\"profile__edit-button\" type=\"button\" onClick={props.onEditProfile}></button>\n                    <p className=\"profile__subtitle\">{currentUser.userDescription}</p>\n                </div>\n                <button className=\"profile__add-button\" type=\"button\" onClick={props.isAddPlacePopupOpen}></button>\n            </section>\n\n            <section className=\"elements\">\n                <ul className=\"elements__list\">\n                    {cards.map((card) => {\n                        \n                        return (\n                            <Card card={card} key={card._id} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\n                        )\n                    })}\n                </ul>\n            </section>\n        </main>)\n}\n\nexport default Main;\n\n\n\n","import React from 'react';\n\nfunction Footer() {\n    return (\n    <footer className=\"footer\">\n\n        <p className=\"footer__copyright\">&copy; Mesto Russia</p>\n    </footer>);\n}\n\nexport default Footer;","import React from 'react';\n\nfunction ImagePopup(props) {\n    return ((\n        <div className={props.isOpen ? `popup popup_opened popup_type_${props.name}` : `popup popup_type_${props.name}`}>\n            <div className=\"popup__image-container container\">\n                \n                <button className=\"popup__close-button popup__close-button_type_image\" type=\"button\" onClick={props.closeAllPopups}></button>\n                <img className=\"popup__image\" src={props.card.link} alt={props.card.name} />\n                <p className=\"popup__title popup__title_type_image\">{props.card.name}</p>\n            </div>\n        </div>\n    ));\n};\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm(props) {\n    return ((\n        <div className={props.isOpen ? `popup popup_type_${props.name} popup_opened ` : `popup popup_type_${props.name}`} >\n            <form className=\"popup__container container\" name={props.name}  onSubmit={props.onSubmit}>\n                <h3 className=\"popup__title\">{props.title}</h3>\n                {props.children}\n                <button className=\"popup__save-button\" type=\"submit\">{props.buttonName}</button>\n                <button className=\"popup__close-button\" type=\"button\" onClick={props.closeAllPopups}></button>\n            </form>\n        </div>\n    ));\n};\n\nexport default PopupWithForm;","const BASE_URL = \"https://mesto-back.herokuapp.com\";\n\nclass Api {\n  constructor(config) {\n    this._baseUrl = config.baseUrl;\n    this._headers = config.headers;\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then(this._checkStatusOK);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then(this._checkStatusOK);\n  }\n  updateUserInfo(userData) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n\n      body: JSON.stringify({\n        name: userData.name,\n        about: userData.about,\n      }),\n    }).then(this._checkStatusOK);\n  }\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._checkStatusOK);\n  }\n\n  setAvatar(avatarLink) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatarLink,\n      }),\n    }).then(this._checkStatusOK);\n  }\n\n  likeCard(cardId, isLiked) {\n    return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: isLiked ? \"DELETE\" : \"PUT\",\n      headers: this._headers,\n    }).then(this._checkStatusOK);\n  }\n  createNewCard({ name, link }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then(this._checkStatusOK);\n  }\n\n  _checkStatusOK(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка ${res.status}`);\n  }\n}\n\nconst api = new Api({\n  baseUrl: `${BASE_URL}`,\n  headers: {\n    \"Content-Type\": \"application/json\",\n    Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n  },\n});\n\nexport default api;\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction EditProfilePopup(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState(currentUser.userName);\n    const [description, setDescription] = React.useState(currentUser.userDescription);\n  \n    // const [name, setName] = React.useState('');\n    // const [description, setDescription] = React.useState('');\n\n\n    React.useEffect(() => {\n        setName(currentUser.userName);\n        setDescription(currentUser.userDescription);\n    }, [currentUser, props.isOpen]);\n\n    function handleChangeName(e) {\n         setName(e.target.value);\n    }\n    function handleChangeDescription(e) {\n         setDescription(e.target.value);\n    }\n    function handleSubmit(e) {\n        e.preventDefault();\n         props.onUpdateUser({\n             name: name,\n             about: description,\n         });\n    }\n\n    return ((\n        <PopupWithForm name=\"user-data\" title=\"Редактировать профиль\" buttonName=\"Сохранить\" isOpen={props.isOpen} closeAllPopups={props.onClose} onSubmit={handleSubmit}>\n            <input id=\"name-input\" className=\"popup__text popup__text_type_name\" \n            type=\"text\" name=\"name\" minLength=\"2\" maxLength=\"40\" required placeholder=\"Имя\"\n                value={name || ''} onChange={handleChangeName} />\n            <span className=\"popup__error name-input-error\" id=\"name-input-error\"></span>\n            <input id=\"profession-input\" className=\"popup__text popup__text_type_profession\" \n            type=\"text\" name=\"profession\" minLength=\"2\" maxLength=\"200\" required placeholder=\"Профессия\"\n                value={description || ''} onChange={handleChangeDescription}/>\n            <span className=\"popup__error profession-input-error\" id=\"profession-input-error\"></span>\n        </PopupWithForm>\n    ));\n};\n\nexport default EditProfilePopup;\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import React from 'react';\nimport { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction EditAvatarPopup(props) {\n    const avatarLinkRef = useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        props.onUpdateAvatar({\n            avatar: avatarLinkRef.current.value\n        });\n    }\n\n    return ((\n        <PopupWithForm name=\"update-avatar\" title=\"Обновить аватар\" buttonName=\"Сохранить\" isOpen={props.isOpen} closeAllPopups={props.onClose} onSubmit={handleSubmit}>\n            <input id=\"avatar-input\" type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" className=\"popup__text popup__text_type_source\" required ref={avatarLinkRef}/>\n            <span className=\"popup__error avatar-input-error popup__error_avatar\"></span>\n        </PopupWithForm>\n\n        \n    ));\n};\n\nexport default EditAvatarPopup;","import React from 'react';\nimport { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction AddPlacePopup(props) {\n    const namePlaceRef = useRef();\n    const linkPlaceRef = useRef();\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onAddPlace({\n            link: linkPlaceRef.current.value,\n            name: namePlaceRef.current.value,\n        });\n        namePlaceRef.current.value = ''\n        linkPlaceRef.current.value = ''\n    }\n\n    return ((\n        <PopupWithForm name=\"place-data\" title=\"Новое место\" buttonName=\"Сохранить\" isOpen={props.isOpen} closeAllPopups={props.onClose} onSubmit={handleSubmit}>\n            <input id=\"place-input\" className=\"popup__text popup__text_type_place\" placeholder=\"Название\" type=\"text\" name=\"name\" minLength=\"2\" maxLength=\"30\" required ref={namePlaceRef}/>\n            <span id=\"place-input-error\" className=\"popup__error place-input-error\"></span>\n            <input id=\"url-input\" type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" className=\"popup__text popup__text_type_source\" required ref={linkPlaceRef}/>\n            <span className=\"popup__error url-input-error\"></span>\n        </PopupWithForm>\n    ));\n};\n\nexport default AddPlacePopup;\n\n\n\n","const BASE_URL = \"https://mesto-back.herokuapp.com\";\n\nconst resStatus = (res) => {\n  if (!res.ok) {\n    return Promise.reject(`Error: ${res.status}`);\n  }\n  return res.json();\n};\n\nexport const register = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ password, email }),\n  }).then(resStatus);\n};\n\nexport const authorize = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n    },\n    body: JSON.stringify({ password, email }),\n  }).then(resStatus);\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  }).then(resStatus);\n};\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\n    return (\n        <Route\n            {...rest}\n            render={(props) =>\n                rest.loggedIn === true ? (\n                    <Component {...props} {...rest} />\n                ) : (\n                    <Redirect to=\"./sign-in\" />\n                )\n            }\n        />\n    );\n};\n\nexport default ProtectedRoute;","import React, { useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\n\nconst Register = ({ onReg, ...props }) => {\n    const [emailInput, setEmailInput] = React.useState('');\n    const [passwordInput, setpasswordInput] = React.useState('');\n    const history = useHistory();\n\n    function handleChangeEmailInput(e) {\n        setEmailInput(e.target.value);\n    }\n    function handleChangePasswordInput(e) {\n        setpasswordInput(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        // console.log('hello');\n        e.preventDefault();\n        onReg({ passwordInput, emailInput })\n            .then(() => {\n                history.push(\"/sign-in\");\n                props.setResStatus(true);\n               })\n            .catch((err) => {\n                props.setResStatus(false);\n                console.log(err);\n            })\n            .finally(() => {\n                props.onInfoTool(true);\n            });\n    }\n\n    useEffect(() => {\n        if (localStorage.getItem(\"jwt\")) {\n            history.push(\"/main\");\n        }\n    }, [history]);\n\n    return ((\n        <form className=\"auth\" onSubmit={handleSubmit}>\n            <h2 className=\"auth__title\">Регистрация</h2>\n            <input className=\"auth__input\" type=\"email\"\n                placeholder=\"Email\"\n                minLength=\"2\" maxLength=\"40\"\n                required value={emailInput} onChange={handleChangeEmailInput} />\n            <input className=\"auth__input\" type=\"text\"\n                placeholder=\"Пароль\"\n                minLength=\"8\" maxLength=\"40\"\n                required value={passwordInput} onChange={handleChangePasswordInput} />\n            <button className=\"auth__confirm-button\" type=\"submit\">Зарегистрироваться</button>\n            {props.children}\n        </form>\n    ));\n};\n\nexport default Register;\n","import React, { useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Login = ({ onLog, ...props }) => {\n    const [emailInput, setEmailInput] = React.useState('');\n    const [passwordInput, setPasswordInput] = React.useState('');\n    const history = useHistory();\n\n    useEffect(() => {\n        return () => {\n            if (localStorage.getItem(\"jwt\")) {\n                history.push(\"/main\");\n            }\n        }\n    }, [history]);\n\n       function handleChangeEmailInput(e) {\n        setEmailInput(e.target.value);\n    }\n    function handleChangePasswordInput(e) {\n        setPasswordInput(e.target.value);\n    }\n    const resetInputs = () => {\n        setEmailInput('');\n        setPasswordInput('');\n    };\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        onLog({ passwordInput, emailInput })\n            .then(resetInputs)\n            .then(() => {\n                history.push(\"/main\");\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    };\n\n       return (\n                   <form className=\"auth\" onSubmit={handleSubmit}>\n                <h2 className=\"auth__title\">Вход</h2>\n                <input className=\"auth__input\" type=\"email\"\n                    placeholder=\"Email\"\n                    required value={emailInput} onChange={handleChangeEmailInput}\n                    minLength=\"2\" maxLength=\"40\"\n                     />\n                <input className=\"auth__input\" type=\"text\"\n                    placeholder=\"Пароль\"\n                    minLength=\"2\" maxLength=\"40\"\n                    required value={passwordInput} onChange={handleChangePasswordInput} />\n                <button className=\"auth__confirm-button\" type=\"submit\">Войти</button>\n                {props.children}\n            </form>\n           );\n};\n\nexport default Login;","export default __webpack_public_path__ + \"static/media/RegisterOk.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/RegisterError.df8eddf6.svg\";","import React from 'react';\nimport registerOk from \"../images/RegisterOk.svg\";\nimport registerError from \"../images/RegisterError.svg\";\n\nfunction InfoToolTip(props) {\n    \n    return ((\n        < div className={props.isOpen ? `popup popup_opened popup_type_success` : `popup popup_type_success`} >\n            <div className=\"popup__container\" name={props.name} >\n                <img\n                    className=\"popup__icon\"\n                    src={props.resStatus ? registerOk : registerError}\n                    alt=\"approved\"\n                />\n                <h2 className=\"popup__title\" style={{ textAlign: 'center', fontSize: '20px', paddingBottom: '0' }}>\n                    {props.resStatus ? 'Вы успешно зарегистрировались!' : 'Что-то пошло не так! Попробуйте ещё раз.'}</h2>\n                <button className=\"popup__close-button\" type=\"reset\" onClick={props.closeAllPopups}></button>\n            </div>\n        </div >\n    ));\n};\n\nexport default InfoToolTip;","// serve - s build\n// npm start\nimport { Route, Link, Redirect, Switch, useHistory, useLocation } from 'react-router-dom';\nimport { useState, useEffect } from \"react\";\nimport React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport api from \"../utils/Api.js\";\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nimport * as Auth from '../utils/Auth';\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport Register from \"./Register\";\nimport Login from './Login.js';\nimport InfoToolTip from './InfoToolTip';\n\n// email@mail.com\n// 12345\n\nfunction App(props) {\n   \n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n    const [selectedCard, selectCard] = React.useState({});\n    const [loggedIn, setLoggedIn] = React.useState(false);\n    const history = useHistory();\n    const [email, setEmail] = useState(\"\");\n    const [isInfoToolTipOpen, setIsInfoToolTipOpen] = React.useState(false);\n\n    const [userInfo, setUserInfo] = React.useState({});\n    const [cards, setCards] = React.useState([]);\n    const [resStatus, setResStatus] = React.useState(false);\n\n    const auth = (jwt) => {\n        return Auth.getContent(jwt).then((res) => {\n            if (res) {\n                setLoggedIn(true);\n                \n                setEmail(res.email);\n            }\n        })\n            .catch((err) => {\n                console.log(err);\n            });\n    };\n\n    useEffect(() => {\n        const jwt = localStorage.getItem(\"jwt\");\n\n        if (jwt) {\n            auth(jwt);\n        }\n    }, [loggedIn]);\n\n    useEffect(() => {\n        if (loggedIn) history.push(\"/main\");\n    }, [loggedIn, history]);\n\n    const onReg = ({ passwordInput, emailInput }) => {\n        return Auth.register(passwordInput, emailInput).then((res) => {\n            if (!res || res.statusCode === 400) {\n                throw new Error(\"Что-то пошло не так\");\n            } else\n                return res;\n        })\n    };\n\n    const onLog = ({ passwordInput, emailInput }) => {\n        return Auth.authorize(passwordInput, emailInput).then((res) => {\n            if (!res || !res.token)\n                throw new Error(\"Неправильные имя пользователя или пароль\");\n            if (res.token) {\n                setLoggedIn(true);\n                localStorage.setItem(\"jwt\", res.token);\n            }\n        })\n            .catch((err) => {\n                console.log(err);\n            });\n    };\n\n    const onSignOut = () => {\n        localStorage.removeItem(\"jwt\");\n        setLoggedIn(false);\n        history.push(\"/sign-in\");\n    };\n\n    \n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    };\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    };\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    };\n    function handleCardClick(select) {\n        selectCard(select);\n        setIsImagePopupOpen(true);\n    };\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsImagePopupOpen(false);\n        setIsInfoToolTipOpen(false);\n    };\n    \n    \n    // console.log(userInfo);\n    React.useEffect(() => {\n        \n        Promise.all([api.getUserInfo(), api.getInitialCards()])\n            .then(([userData, initialCards]) => {\n                console.log(userData.name, userData.avatar );\n                setUserInfo({\n                    userName: userData.name,\n                    userDescription: userData.about,\n                    userAvatar: userData.avatar,\n                    userId: userData._id\n                });\n                setCards(initialCards);\n                \n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }, [history]);\n\n    React.useEffect(() => {\n        const closeByEscape = (e) => {\n            if (e.key === 'Escape') {\n                closeAllPopups();\n            }\n        }\n\n        document.addEventListener('keydown', closeByEscape)\n\n        return () => document.removeEventListener('keydown', closeByEscape)\n    }, [])\n\n\n\n    function handleCardLike(card) {\n        // console.log('hi');\n        const isLiked = card.likes.some((id) => id === userInfo.userId);\n\n        api.likeCard(card._id, isLiked)\n        .then((newCard) => {\n            setCards((cards) => cards.map((c) => (c._id === card._id ? newCard : c)));\n        })\n        .catch((err) => {\n                console.log(err);\n        });\n        \n    };\n\n    function handleCardDelete(card) {\n        api.deleteCard(card._id)\n        .then(() => {\n            setCards((cards) => cards.filter((c) => c._id !== card._id));\n        })\n        .catch((err) => {\n                console.log(err);\n        });\n        \n    };\n\n    function handleUpdateUser(userData) {\n        api.updateUserInfo(userData)\n            .then((userData) => {\n                setUserInfo({\n                    userName: userData.data.name,\n                    userDescription: userData.data.about,\n                    userAvatar: userData.data.avatar,\n                    userId: userData.data._id,\n                });\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    };\n\n    function handleUpdateavatar(userData) {\n               api.setAvatar(userData.avatar)\n            .then((userData) => {\n                setUserInfo({\n                    userName: userData.data.name,\n                    userDescription: userData.data.about,\n                    userAvatar: userData.data.avatar,\n                    userId: userData.data._id,\n                });\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    };\n\n    function handleAddPlace(placeData) {\n        api.createNewCard(placeData)\n            .then((newCard) => {\n                setCards([newCard, ...cards]);\n                closeAllPopups();\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    };\n\n    const location = useLocation();\n\n    function headerLogStatus() {\n        switch (location.pathname) {\n            case '/main':\n                return (\n                    <div className='header__auth'>\n                        <p className='header__email' style={{ paddingRight: '24px' }}>{email}</p>\n                        <Link className=\" auth__link\" to=\"/sign-up\" onClick={onSignOut}>Выйти</Link>\n                    </div>\n                )\n\n            case '/sign-in':\n                return (\n                    <div className='header__auth'><Link className=\" auth__link\" to=\"/sign-up\">Регистрация</Link></div>\n                )\n\n            case '/sign-up':\n                return (\n                    <div className='header__auth'><Link className=\" auth__link\" to=\"/sign-in\">Войти</Link></div>\n                )\n\n            default:\n                break;\n        }\n    }\n\n   \n    return ((\n        <div className=\"page\">\n            <CurrentUserContext.Provider value={userInfo}>\n                    <Header>\n                        {headerLogStatus()}\n                        </Header>\n                    <Switch>\n                        <ProtectedRoute \n                        path=\"/main\"\n                            loggedIn={loggedIn}\n                        component={Main} cards={cards} onEditProfile={handleEditProfileClick} isAddPlacePopupOpen={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick}\n                            onCardClick={handleCardClick} card={selectedCard} onCardLike={handleCardLike} onCardDelete={handleCardDelete} onSignOut={onSignOut} />\n                        <Route path=\"/sign-up\">\n                            <Register onReg={onReg} onInfoTool={setIsInfoToolTipOpen} setResStatus={setResStatus}>\n                                <p className=\"auth__span\">Уже зарегистрированы?<Link className=\"auth__span auth__link\" to=\"/sign-in\">  Войти</Link></p>\n                            </Register>\n                        </Route>\n                        <Route path=\"/sign-in\">\n                            <Login loggedIn={loggedIn} setLoggedIn={setLoggedIn} onLog={onLog} />\n                        </Route>\n                        <Route>\n                            {loggedIn ? (<Redirect to=\"/main\" />) : (<Redirect to=\"/sign-in\" />)}\n                        </Route>\n                    </Switch>\n\n                <ImagePopup card={selectedCard} isOpen={isImagePopupOpen} closeAllPopups={closeAllPopups} />\n\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateavatar} />\n\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlace} />\n\n                <PopupWithForm name=\"approval\" title=\"Вы уверены?\" buttonName=\"Да\" isOpen={false} />\n\n                <InfoToolTip isOpen={isInfoToolTipOpen} closeAllPopups={closeAllPopups} resStatus={resStatus} />\n                \n                    <Footer />\n               \n            </CurrentUserContext.Provider>\n        </div>\n    ));\n}\nexport default App;\n\n\n\n\n\n\n\n\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </React.StrictMode> , document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}